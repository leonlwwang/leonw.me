---
import Layout from '../../layouts/Layout.astro';
import BlogLayout from '../../layouts/BlogLayout.astro';

const { tag } = Astro.params;
const posts = (await Astro.glob("../blog/*.md")).sort(
  (a, b) =>
    new Date(b.frontmatter.pubDate).valueOf() -
    new Date(a.frontmatter.pubDate).valueOf()
);
const filteredPosts = posts.filter((post) => post.frontmatter.tags.includes(tag));
---

<Layout title={tag}>
    <div style="padding-block-end: 2rem;"></div>
    <p>Posts tagged with <span style="font-size: 1rem; font-weight: 600;">{tag.toUpperCase()}</span></p>
    <BlogLayout posts={filteredPosts} />
</Layout>